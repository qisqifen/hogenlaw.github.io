<html>
  <head>
    <title>ES6 新特性01 - hogen</title>
    <link href='/images/fav.png' rel='shortcut icon'>
<link href='undefined' rel='alternate' type='application/rss+xml'>
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/responsive.css">
<script src="/js/jquery.js"></script>
<script src="/js/basics.js"></script>
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type'>


  </head>
  <body>
    <header>
  <a id='go-back-home' href='/'><img src='/images/scribble.png' alt='Home' width='53' height='59'></a>
  <p>hogen</p>
  <p>Follow Excellence. Success will chase you.</p>
</header>

    <div id='container'>
      <div class='block'>
  
    <a class='main' href='/'>Home</a>
  
    <a class='main' href='/about'>About</a>
  
    <a class='main' href='https://github.com/hogenlaw'>Github</a>
  
    <a class='main' href='https://juejin.im/user/5a459f96518825256362fb43'>JueJin</a>
  
    <a class='main' href='mailto:lhg9300@foxmail.com'>Email</a>
  
</div>

      <section class='paging'>
  
    <div class='left'>
      <a href='/2018/03/14/es6-new-feature02/'>
        ‹
      </a>
    </div>
  
  
    <div class='right'>
      <a href='/2017/12/31/the-last-day-of-2017/'>
        ›
      </a>
    </div>
  
</section>

      <div class='content'>
        <section class='post'>
          <h1>
            <!-- <div class='date'>2018-01-17</div> --><!--正文的日期-->
            ES6 新特性01
          </h1>
          <h4 id="变量-赋值"><a href="#变量-赋值" class="headerlink" title="变量/赋值"></a>变量/赋值</h4><ul>
<li>var     可以重复定义、不能限制修改、没有块级作用域</li>
<li>let     不能重复定义、变量、块级作用域</li>
<li>const   不能重复定义、常量、块级作用域<h4 id="解构赋值："><a href="#解构赋值：" class="headerlink" title="解构赋值："></a>解构赋值：</h4></li>
<li>左右两边必须一样；右边得是个东西</li>
<li><p><strong>必须定义和赋值同步完成</strong></p>
<pre><code>let [a,b]={a: 12, b: 5};
let {a,b}={12,5};
let [x,{a:{b,c},d},y] = [12,{a:{b:1,c:2},d:3},88];
console.log(`a的值是${a},b的值是${b},c的值是${c},d的值是${d}`);
</code></pre><h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><pre><code>function (参数,参数){
  函数体
}

(参数,参数)=&gt;{
  函数体
}
</code></pre></li>
</ul>
<blockquote>
<p>如果有且仅有1个参数，()可以省； 如果函数体只有一句话，而且是return，{}可以省</p>
</blockquote>
<pre><code>let arr = [2,10,5,99];
let sort_arr = arr.sort((n1,n2)=&gt;n1-n2);// 函数体只有一句 return
alert(sort_arr);
</code></pre><h4 id="默认参数"><a href="#默认参数" class="headerlink" title="默认参数"></a>默认参数</h4><p>ES5 默认赋值的写法</p>
<pre><code>function show(a, b, c){
  b=b||5;
  c=c||12;// 调用方法如果 c 的值为空，此处赋值12
  console.log(a,b,c);
}
show(12, 37);
</code></pre><p>ES6 默认赋值新写法</p>
<pre><code>function show(a=1, b=2, c=3){
  console.log(a,b,c);// 12 37 3
}
show(12, 37);
</code></pre><p>参数展开(剩余参数、数组展开)</p>
<pre><code>let arr=[12,5,8,99];
//...arr    &lt;=&gt;    12,5,8,99
let arr2=[...arr, arr];
let arr3=[...arr,...arr];
let [a,b,c,d] = arr;
console.log(arr2);// [12, 5, 8, 99, Array(4)]
console.log(arr3);// [12, 5, 8, 99, 12, 5, 8, 99]
console.log(`a的值是${a},b的值是${b},c的值是${c},d的值是${d}`);// a的值是12,b的值是5,c的值是8,d的值是99
</code></pre><blockquote>
<p> “三个点”的第1个用途：接收剩余参数</p>
</blockquote>
<pre><code>function show(a, b, ...args) //  剩余参数必须在参数列表的最后`
</code></pre><blockquote>
<p>“三个点”的第2个用途：展开一个数组</p>
</blockquote>
<pre><code>function show(a, b, ...args){
  console.log(a,b,args);// 12 37 Array(4)
}
show(12, 37, 88, 99, 123, 56);
</code></pre><h4 id="数组-新增5种方法"><a href="#数组-新增5种方法" class="headerlink" title="数组(新增5种方法)"></a>数组(新增5种方法)</h4><p><strong>forEeach 遍历</strong>：</p>
<pre><code>let arr = [1,2,3,4];
arr.forEach(function(element,index,arr){
    alert(arguments.length);//forEach有3个参数，箭头函数不适应arguments
    console.log(a+&apos;,&apos;+b+&apos;,&apos;+c);
    console.log(`第${index}个元素是${element},最后一个元素是${arr}`);//0 1 (4) [1, 2, 3, 4]
});
</code></pre><p>利用 forEeach 方法求和</p>
<pre><code>let sum = 0;
arr.forEach(element=&gt;sum+=element);
alert(sum);
</code></pre><p><strong>map 映射</strong>：</p>
<pre><code>arr.map(function(element,index,arr){
    alert(arguments.length);//map有3个参数，箭头函数不适应arguments
    console.log(a+&apos;,&apos;+b+&apos;,&apos;+c);
    console.log(`第${index}个元素是${element},最后一个元素是${arr}`);
});
</code></pre><p>map 方法求分数是否及格</p>
<pre><code>let score = [100,20,30,70,50];
let result = score.map(element=&gt;element&gt;60?&quot;及格&quot;:&quot;不及格&quot;);
alert(result);
</code></pre><p><strong>reduce 汇总</strong>：</p>
<pre><code>let arr = [1,2,3,4,5];
arr.reduce(function(tmp,element,index,arr){
    // alert(arguments.length);//reduce 有4个参数
    // console.log(a+&apos;,&apos;+b+&apos;,&apos;+c+&apos;,&apos;+d);
    console.log(`首个参数是${tmp},第${index}次相加的元素是${element},最后一个元素是${arr}`);
});
</code></pre><p> reduce 求平均数</p>
<pre><code>let avg = arr.reduce((tmp,element,index)=&gt;{
    if (index!=arr.length-1) {
        return tmp+element;
    }else{
        return (tmp+element)/arr.length;
    }
});
alert(avg);
</code></pre><p><strong>filter 过滤</strong>：</p>
<pre><code>let arr = [1,3,4,5];
arr.filter(function(element,index,arr){
    alert(arguments.length);//filter函数有3个参数
    console.log(`第${index}个元素是${element},最后一个元素是${arr}`);
});
</code></pre><p>filter 过滤出数组中能被2整除的数</p>
<pre><code>let result = arr.filter(function(element){
    if (element%2==0) {
        return true;
    }else{
        return false;
    }
});
//上述可简写成：
let result = arr.filter(item=&gt;item%2==0);/

alert(result);
</code></pre><p><strong>Array.from</strong>：处理 array-like 型数据</p>
<pre><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;title&gt;&lt;/title&gt;
    &lt;style media=&quot;screen&quot;&gt;
      div {width:200px; height:200px; background:#CCC; float:left; margin:10px;}
    &lt;/style&gt;
    &lt;script&gt;
    window.onload=function (){
      let aDiv=document.getElementsByTagName(&apos;div&apos;);//aDiv并不是一个真正意义上的数组
      Array.from(aDiv).forEach(div=&gt;{
        div.style.background=&apos;yellow&apos;;
      });
    };
    &lt;/script&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;div class=&quot;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;&quot;&gt;&lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;
</code></pre><h4 id="json"><a href="#json" class="headerlink" title="json"></a>json</h4><ul>
<li><p>简写：名字和值一样的，可以省</p>
<pre><code>let a=12;
let b=5;
let json={a, b};
console.log(json);//{a: 12, b: 5}
</code></pre></li>
<li><p>function可以不写</p>
<pre><code>let json={
   a: 12,
   b: 5,
   show(){
    alert(this.a+this.b);
  }
/*show: function (){
    alert(this.a+this.b);
  }*/
};

json.show();
</code></pre><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4></li>
<li>字符串模板：植入变量、任意折行 <code>a变量的值是：${a}</code></li>
<li>startsWith 方法</li>
<li>endsWith 方法<h4 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h4></li>
</ul>
<p>传统 Js 面向对象的民间写法(非官方，不统一)</p>
<pre><code>function Person(name, age){
  this.name=name;
  this.age=age;
}

Person.prototype.showName=function (){
  alert(&apos;我叫&apos;+this.name);
};
Person.prototype.showAge=function (){
  alert(&apos;我&apos;+this.age+&apos;岁&apos;);
};

let p=new Person(&apos;blue&apos;, 18);
p.showName();
p.showAge();

//传统 js 继承写法-------------------------
function Worker(name, age, job){
  Person.call(this, name, age);
  this.job=job;
}
Worker.prototype=new Person();
Worker.prototype.constructor=Worker;
Worker.prototype.showJob=function (){
  alert(&apos;我是做：&apos;+this.job);
};

let w=new Worker(&apos;blue&apos;, 18, &apos;打杂的&apos;);

w.showName();
w.showAge();
w.showJob();
</code></pre><p>ES6 面向对象的<strong>官方</strong>新写法</p>
<pre><code>class Person{
  constructor(name, age){
    this.name=name;
    this.age=age;
  }

  showName(){
    alert(&apos;我叫&apos;+this.name);
  }
  showAge(){
    alert(&apos;我&apos;+this.age+&apos;岁&apos;);
  }
}

let p=new Person(&apos;blue&apos;, 18);

p.showName();
p.showAge();

//ES6 继承新写法-------------------------
class Worker extends Person{
  constructor(name, age, job){
    //super-超类(父类)
    super(name, age);
    this.job=job;
  }

  showJob(){
    alert(&apos;我是做：&apos;+this.job);
  }
}

let w=new Worker(&apos;blue&apos;, 18, &apos;打杂的&apos;);
w.showName();
w.showAge();
w.showJob();
</code></pre>
          <br>
<p>hogen</p>
<div class='date'>2018-01-17</div>

        </section>
      </div>
      
      <div class='block'>
  
    <a class='main' href='/'>Home</a>
  
    <a class='main' href='/about'>About</a>
  
    <a class='main' href='https://github.com/hogenlaw'>Github</a>
  
    <a class='main' href='https://juejin.im/user/5a459f96518825256362fb43'>JueJin</a>
  
    <a class='main' href='mailto:lhg9300@foxmail.com'>Email</a>
  
</div>

    </div>
    <footer>
  <span class='muted'>Powered by hogenlaw</span>
</footer>

  </body>
</html>
